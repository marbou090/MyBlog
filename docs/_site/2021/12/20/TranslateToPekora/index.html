
<!doctype html>














<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/assets/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/assets/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="個人開発,Python,自然言語処理," />





  <link rel="alternate" href="/atom.xml" title="Maru Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?v=5.1.1" />
















<meta name="description" content="この記事はFUN part2 Advent Calendar 2021 Part2の20日目の記事です。昨日は嶋さんの『なんか半年で退職したやつとその時の事』でした。奇想天外キテレツ体験で退職するよりずっとリアルで、あぁ本当の虚無は粛々とやってくるのだなと恐ろしくなりました。でもお仕事見つかったようでよかったです。">
<meta name="keywords" content="個人開発, Python, 自然言語処理">
<meta property="og:type" content="article">
<meta property="og:title" content="「兎田ぺこら」になる(なれない)">
<meta property="og:url" content="http://localhost:4000/2021/12/20/TranslateToPekora/">
<meta property="og:site_name" content="Maru Blog">
<meta property="og:description" content="この記事はFUN part2 Advent Calendar 2021 Part2の20日目の記事です。昨日は嶋さんの『なんか半年で退職したやつとその時の事』でした。奇想天外キテレツ体験で退職するよりずっとリアルで、あぁ本当の虚無は粛々とやってくるのだなと恐ろしくなりました。でもお仕事見つかったようでよかったです。">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/1369026/65734_855766.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922305624002404352/2.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922307285395595274/3.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922305274667212861/1.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922305274407174224/5fb0288b305e30d4.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922828270985179166/77af10659f789efe.png">
<meta property="og:image" content="https://cdn.discordapp.com/attachments/799713968771170324/922828754886225930/2021-12-21_21.31.55.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="「兎田ぺこら」になる(なれない)">
<meta name="twitter:description" content="この記事はFUN part2 Advent Calendar 2021 Part2の20日目の記事です。昨日は嶋さんの『なんか半年で退職したやつとその時の事』でした。奇想天外キテレツ体験で退職するよりずっとリアルで、あぁ本当の虚無は粛々とやってくるのだなと恐ろしくなりました。でもお仕事見つかったようでよかったです。">
<meta name="twitter:image" content="https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/1369026/65734_855766.png">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://localhost:4000/"/>





  
  <title>「兎田ぺこら」になる(なれない) | Maru Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-186088413-1', 'auto');
  ga('send', 'pageview');
</script>













</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Maru Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/2021/12/20/TranslateToPekora/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Marubou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="assets/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maru Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            「兎田ぺこら」になる(なれない)
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-12-20T00:00:00+09:00">
                2021-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          
            
                <div class="post-description">
                    
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
  
  












  <p>この記事は<a href="https://adventar.org/calendars/7183">FUN part2 Advent Calendar 2021 Part2</a>の20日目の記事です。昨日は嶋さんの<a href="https://shima-chimp.hateblo.jp/entry/2021/12/19/030214">『なんか半年で退職したやつとその時の事』</a>でした。奇想天外キテレツ体験で退職するよりずっとリアルで、あぁ本当の虚無は粛々とやってくるのだなと恐ろしくなりました。でもお仕事見つかったようでよかったです。</p>

<h1 id="自己紹介">自己紹介</h1>
<p>はこだて未来大複雑系コース学部３年の加藤まると申します。先日鬼滅の刃を視聴しました。とても面白かったです。友達を募集しています。</p>

<p>さて、本日は題名にある通り兎田ぺこらになっていこうと思います。</p>

<h1 id="兎田ぺこらとはなにか">兎田ぺこらとはなにか</h1>
<p>人物名です。女性です。動くイラストを使いインターネットなどで活動をする人をバーチャルYouTuberといい、彼女もそのひとりです。
<img src="https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/1369026/65734_855766.png" alt="" /><br />
出典: https://www.hololive.tv/portfolio/items/usada-pekora</p>

<p>彼女は語尾に「ぺこ」をつけており、文体も可愛らしいです。文体から彼女の可愛さが滲み出ていますね。惚れてしまいます。兎田ぺこらといえばこの文体であり、この文体といえば兎田ぺこらです。
<img src="https://cdn.discordapp.com/attachments/799713968771170324/922305624002404352/2.png" alt="" /></p>

<h1 id="本題">本題</h1>
<p>さて、本日は兎田ぺこらになっていきます。上で示したように、彼女の文体は彼女を表しています。つまり入力した文をぺこら語調に変換できれば、兎田ぺこらになったと言っても過言ではないわけです。ということで、自然言語処理を用いて大好きな兎田ぺこらになっていきます。</p>

<p><img src="https://cdn.discordapp.com/attachments/799713968771170324/922307285395595274/3.png" alt="" /></p>

<h3 id="提案手法">提案手法</h3>
<p>どんな語調も英語に翻訳することで正規化を行えることを利用します。</p>

<p>砕けた文も英語に翻訳し、もう一度日本語に戻すと正規化された文を得ることができます。
<img src="https://cdn.discordapp.com/attachments/799713968771170324/922305274667212861/1.png" alt="" />
<img src="https://cdn.discordapp.com/attachments/799713968771170324/922305274407174224/5fb0288b305e30d4.png" alt="" /></p>

<p>「I’m tired.」と「疲れちゃったにぇ」をペアで覚えておくことで、次に「つかれた」と入力したとき英語文が一致する「疲れちゃったにぇ」が出力をすることで元の文体を復元できます。このアルゴリズムを用いて、ぺこら辞書を作り文体を変換します。</p>

<h4 id="ぺこら辞書の準備">ぺこら辞書の準備</h4>

<ul>
  <li>兎田ぺこらの書いた文を文節にわけ、２つずつのペアを作成</li>
  <li>それをGoogle Translate APIに投げ英語に翻訳</li>
  <li>日本語(ぺこら語調)と英語の辞書を作成</li>
</ul>

<h4 id="変換するときのアルゴリズム">変換するときのアルゴリズム</h4>

<ul>
  <li>入力された日本語文をGoogle Translate APIに投げ英語に翻訳</li>
  <li>ぺこら辞書から「英語」で一致するものを探す</li>
  <li>一致すれば日本語文をぺこら語に変換</li>
</ul>

<p>これで通常の語調をぺこら語調に変換していきます。</p>

<h3 id="実験">実験</h3>
<p>気づいたら２年分の兎田ぺこらのツイートが手元のPCに全て保存されていたのでそれを使います。ぺこらになるのは私だけで良いので詳しい説明はしません。</p>

<p>えい！
<img src="https://cdn.discordapp.com/attachments/799713968771170324/922828270985179166/77af10659f789efe.png" alt="" /></p>

<p>えいえい！
<img src="https://cdn.discordapp.com/attachments/799713968771170324/922828754886225930/2021-12-21_21.31.55.png" alt="" /></p>

<p>これでぺこら辞書が作れました。では実際に変換できるか試してみましょう。元の辞書にない単語組み合わせは変換できないので、試しにぺこらのツイートを語調変えて入力してみます。</p>

<p>えい！</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><table style="margin: 0px"><tbody><tr><td class="gutter"><pre>1</pre></td><td class="code"><pre class="highlight"><code>text = '本日は触りしかできませんでしたがプレイしていてとても面白かったです。皆さんも見てくれてありがとうございました！！！'
</code></pre></td></tr></tbody></table></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><table style="margin: 0px"><tbody><tr><td class="gutter"><pre>1</pre></td><td class="code"><pre class="highlight"><code>&gt;&gt;&gt; 本日は触りしか遊ぶぺこいたあのとても面白かったです。見てくれてくれてありがとうございました！！！
</code></pre></td></tr></tbody></table></div></div>

<p>ぺこが出現していますが変換できていません。ちなみに元のツイートは「今日は触りしかできなかったけど遊んでてとっても面白かったぺこ✨✨みんなも見てくれてありがとおお！！！」です。</p>

<h3 id="考察">考察</h3>
<p>うまくいかなかった原因の心当たりはいくつかあります。</p>
<ul>
  <li>「！」や「〜」などの記号を消さなかった</li>
  <li>Google Translateが賢いためニュアンスの違いで英訳が少しずつ異なりうまく一致をとれない</li>
  <li>ツイート内容が偏っている</li>
  <li>一致で置き換えのアルゴリズムが弱い
などがあげられます。</li>
</ul>

<p>考えられる対策としては他アイドルもデータセットにいれ辞書を増やし、ぺこら辞書を最優先で置換させることで辞書は増えると思われます。英訳の辞書を工夫し少しの変化にも耐えられる方法も考えられます。</p>

<p>結論としては、兎田ぺこらは唯一無二のアイドルなので私ごときが真似するなど100万年早かったということです。さすがでした。</p>

<h3 id="参考文献">参考文献</h3>
<ul>
  <li><a href="https://pdmagazine.jp/people/dazai-program/">【6月19日は桜桃忌】プログラミングで蘇る太宰治</a></li>
  <li><a href="https://qiita.com/satsukiya/items/a99b2736831015115701">Pythonを使ってフェフ姉言葉に変換してみた件</a></li>
</ul>

<h1 id="あとがき">あとがき</h1>
<p>文体変換というテーマはやってみたかったので楽しかったです。彼女を題材にしたのは好きだからです。(私の中で)最強のアイドルだからです。理由は十分ですね。幸せな時間でした。</p>

<p>明日21日目の記事はふぁるくんです。PBLがんばってえらかった！</p>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            
            <a href="/tag/#/%E5%80%8B%E4%BA%BA%E9%96%8B%E7%99%BA" rel="tag"># 個人開発</a>
          
            
            <a href="/tag/#/Python" rel="tag"># Python</a>
          
            
            <a href="/tag/#/%E8%87%AA%E7%84%B6%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86" rel="tag"># 自然言語処理</a>
          
        </div>
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2022/06/08/supportvectormachine/" rel="next" title="サポートベクトルマシン資料">
                <i class="fa fa-chevron-left"></i> サポートベクトルマシン資料
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/19/probabilityinfo/" rel="prev" title="1日1確率情報理論">
                1日1確率情報理論 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    },
    CommonHTML: { matchFontHeight: false },
    displayAlign: "left",
    displayIndent: "2em",
    TeX: {
      equationNumbers: { autoNumber: "AMS" },
    }
  });
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS_CHTML"></script>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        







      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.gif"
               alt="Marubou" />
          <p class="site-author-name" itemprop="name">Marubou</p>
           
              <p class="site-description motion-element" itemprop="description">未来大複雑系B2です。データサイエンス・機械学習・自然言語処理に興味があります。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              
              
              <span class="links-of-author-item">
                <a href="https://github.com/marbou090" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              
              
              <span class="links-of-author-item">
                <a href="https://twitter.com/mr__py" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              
              
              <span class="links-of-author-item">
                <a href="https://marbou090.github.io/" target="_blank" title="Portfolio">
                  
                    <i class="fa fa-fw fa-pen-square"></i>
                  
                  Portfolio
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            








            
              <div class="post-toc-content">
    <ol class=nav>
      <li class="nav-item nav-level-1"> <a class="nav-link" href="#自己紹介"> <span class="nav-number">1</span> <span class="nav-text">自己紹介</span> </a> </li> <li class="nav-item nav-level-1"> <a class="nav-link" href="#兎田ぺこらとはなにか"> <span class="nav-number">2</span> <span class="nav-text">兎田ぺこらとはなにか</span> </a> </li> <li class="nav-item nav-level-1"> <a class="nav-link" href="#本題"> <span class="nav-number">3</span> <span class="nav-text">本題</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#提案手法"> <span class="nav-number">3.1</span> <span class="nav-text">提案手法</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#ぺこら辞書の準備"> <span class="nav-number">3.1.1</span> <span class="nav-text">ぺこら辞書の準備</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#変換するときのアルゴリズム"> <span class="nav-number">3.1.2</span> <span class="nav-text">変換するときのアルゴリズム</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#実験"> <span class="nav-number">3.2</span> <span class="nav-text">実験</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#考察"> <span class="nav-number">3.3</span> <span class="nav-text">考察</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#参考文献"> <span class="nav-number">3.4</span> <span class="nav-text">参考文献</span> </a> </li> </ol> </li> <li class="nav-item nav-level-1"> <a class="nav-link" href="#あとがき"> <span class="nav-number">4</span> <span class="nav-text">あとがき</span> </a> </li>
    </ol>
  </div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Marubou</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  

  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  











  




  

    

  







  






  

  

  
  


  

  

  

</body>
</html>

