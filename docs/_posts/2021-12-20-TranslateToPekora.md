---
title: 「兎田ぺこら」になる(なれない)
tags: 
 - 個人開発
 - Python
 - 自然言語処理
---

この記事は[FUN part2 Advent Calendar 2021 Part2](https://adventar.org/calendars/7183)の20日目の記事です。昨日は嶋さんの[『なんか半年で退職したやつとその時の事』](https://shima-chimp.hateblo.jp/entry/2021/12/19/030214)でした。奇想天外キテレツ体験で退職するよりずっとリアルで、あぁ本当の虚無は粛々とやってくるのだなと恐ろしくなりました。でもお仕事見つかったようでよかったです。

# 自己紹介
はこだて未来大複雑系コース学部３年の加藤まると申します。先日鬼滅の刃を視聴しました。とても面白かったです。友達を募集しています。

さて、本日は題名にある通り兎田ぺこらになっていこうと思います。

# 兎田ぺこらとはなにか
人物名です。女性です。動くイラストを使いインターネットなどで活動をする人をバーチャルYouTuberといい、彼女もそのひとりです。
![](https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/1369026/65734_855766.png)  
出典: https://www.hololive.tv/portfolio/items/usada-pekora

彼女は語尾に「ぺこ」をつけており、文体も可愛らしいです。文体から彼女の可愛さが滲み出ていますね。惚れてしまいます。兎田ぺこらといえばこの文体であり、この文体といえば兎田ぺこらです。
![](https://cdn.discordapp.com/attachments/799713968771170324/922305624002404352/2.png)

# 本題
さて、本日は兎田ぺこらになっていきます。上で示したように、彼女の文体は彼女を表しています。つまり入力した文をぺこら語調に変換できれば、兎田ぺこらになったと言っても過言ではないわけです。ということで、自然言語処理を用いて大好きな兎田ぺこらになっていきます。

![](https://cdn.discordapp.com/attachments/799713968771170324/922307285395595274/3.png)

### 提案手法
どんな語調も英語に翻訳することで正規化を行えることを利用します。

砕けた文も英語に翻訳し、もう一度日本語に戻すと正規化された文を得ることができます。
![](https://cdn.discordapp.com/attachments/799713968771170324/922305274667212861/1.png)
![](https://cdn.discordapp.com/attachments/799713968771170324/922305274407174224/5fb0288b305e30d4.png)

「I'm tired.」と「疲れちゃったにぇ」をペアで覚えておくことで、次に「つかれた」と入力したとき英語文が一致する「疲れちゃったにぇ」が出力をすることで元の文体を復元できます。このアルゴリズムを用いて、ぺこら辞書を作り文体を変換します。

#### ぺこら辞書の準備

+ 兎田ぺこらの書いた文を文節にわけ、２つずつのペアを作成
+ それをGoogle Translate APIに投げ英語に翻訳
+ 日本語(ぺこら語調)と英語の辞書を作成

#### 変換するときのアルゴリズム

+ 入力された日本語文をGoogle Translate APIに投げ英語に翻訳
+ ぺこら辞書から「英語」で一致するものを探す
+ 一致すれば日本語文をぺこら語に変換

これで通常の語調をぺこら語調に変換していきます。

### 実験
気づいたら２年分の兎田ぺこらのツイートが手元のPCに全て保存されていたのでそれを使います。ぺこらになるのは私だけで良いので詳しい説明はしません。

えい！
![](https://cdn.discordapp.com/attachments/799713968771170324/922828270985179166/77af10659f789efe.png)

えいえい！
![](https://cdn.discordapp.com/attachments/799713968771170324/922828754886225930/2021-12-21_21.31.55.png)

これでぺこら辞書が作れました。では実際に変換できるか試してみましょう。元の辞書にない単語組み合わせは変換できないので、試しにぺこらのツイートを語調変えて入力してみます。

えい！
```
text = '本日は触りしかできませんでしたがプレイしていてとても面白かったです。皆さんも見てくれてありがとうございました！！！'
```
```
>>> 本日は触りしか遊ぶぺこいたあのとても面白かったです。見てくれてくれてありがとうございました！！！
```

ぺこが出現していますが変換できていません。ちなみに元のツイートは「今日は触りしかできなかったけど遊んでてとっても面白かったぺこ✨✨みんなも見てくれてありがとおお！！！」です。

### 考察
うまくいかなかった原因の心当たりはいくつかあります。
+ 「！」や「〜」などの記号を消さなかった
+ Google Translateが賢いためニュアンスの違いで英訳が少しずつ異なりうまく一致をとれない
+ ツイート内容が偏っている
+ 一致で置き換えのアルゴリズムが弱い
などがあげられます。

考えられる対策としては他アイドルもデータセットにいれ辞書を増やし、ぺこら辞書を最優先で置換させることで辞書は増えると思われます。英訳の辞書を工夫し少しの変化にも耐えられる方法も考えられます。

結論としては、兎田ぺこらは唯一無二のアイドルなので私ごときが真似するなど100万年早かったということです。さすがでした。

### 参考文献
+ [【6月19日は桜桃忌】プログラミングで蘇る太宰治](https://pdmagazine.jp/people/dazai-program/)
+ [Pythonを使ってフェフ姉言葉に変換してみた件](https://qiita.com/satsukiya/items/a99b2736831015115701)

# あとがき
文体変換というテーマはやってみたかったので楽しかったです。彼女を題材にしたのは好きだからです。(私の中で)最強のアイドルだからです。理由は十分ですね。幸せな時間でした。

明日21日目の記事はふぁるくんです。PBLがんばってえらかった！